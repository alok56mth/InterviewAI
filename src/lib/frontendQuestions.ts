// 200 Frontend Interview Questions - React, JavaScript, CSS, HTML
export const FRONTEND_QUESTIONS = {
  // HTML Questions (50)
  html: {
    easy: [
      "What is HTML and what does it stand for?",
      "What is the difference between HTML elements and tags?",
      "What are semantic HTML elements? Give examples.",
      "What is the purpose of the DOCTYPE declaration?",
      "What is the difference between <div> and <span>?",
      "What are HTML attributes? Give examples.",
      "What is the difference between id and class attributes?",
      "What are void elements in HTML?",
      "What is the purpose of the <meta> tag?",
      "What is the difference between <strong> and <b> tags?",
      "What is the difference between <em> and <i> tags?",
      "What are HTML forms and how do you create them?",
      "What is the purpose of the alt attribute in images?",
      "What are HTML comments and how do you write them?",
      "What is the difference between block and inline elements?",
    ],
    medium: [
      "What is the difference between localStorage and sessionStorage?",
      "What are data attributes in HTML5?",
      "What is the purpose of the <canvas> element?",
      "What are Web Workers and how do they work?",
      "What is the difference between <script> async and defer?",
      "What are HTML5 form validation attributes?",
      "What is the purpose of the <picture> element?",
      "What are microdata and structured data in HTML?",
      "What is the difference between <article> and <section>?",
      "What are HTML5 input types and their purposes?",
      "What is the Shadow DOM?",
      "What are Custom Elements in HTML5?",
      "What is the purpose of the <template> tag?",
      "What are HTML imports?",
      "What is the difference between <header>, <main>, and <footer>?",
    ],
    hard: [
      "How do you implement lazy loading for images in HTML?",
      "What is the Critical Rendering Path and how does HTML affect it?",
      "How do you optimize HTML for SEO?",
      "What are Progressive Web Apps and HTML's role in them?",
      "How do you implement accessibility (a11y) in HTML?",
      "What is the HTML5 History API?",
      "How do you handle cross-origin resource sharing (CORS) in HTML?",
      "What are Service Workers and their HTML integration?",
      "How do you implement HTML email templates?",
      "What is the difference between server-side and client-side rendering?",
      "How do you optimize HTML for performance?",
      "What are HTML Web Components?",
      "How do you implement responsive images with srcset?",
      "What is the HTML5 Geolocation API?",
      "How do you handle HTML security vulnerabilities like XSS?",
      "What is the HTML5 File API?",
      "How do you implement HTML5 drag and drop?",
      "What are HTML5 offline applications?",
      "How do you optimize HTML for mobile devices?",
      "What is the HTML5 WebSocket API?",
    ]
  },

  // CSS Questions (50)
  css: {
    easy: [
      "What is CSS and what does it stand for?",
      "What are the different ways to include CSS in HTML?",
      "What is the CSS box model?",
      "What is the difference between margin and padding?",
      "What are CSS selectors? Give examples.",
      "What is the difference between class and id selectors?",
      "What is CSS specificity?",
      "What are pseudo-classes in CSS?",
      "What is the difference between display: none and visibility: hidden?",
      "What are CSS units (px, em, rem, %, vh, vw)?",
      "What is the difference between absolute and relative positioning?",
      "What are CSS floats and how do they work?",
      "What is the z-index property?",
      "What are CSS media queries?",
      "What is the difference between inline, block, and inline-block?",
    ],
    medium: [
      "What is Flexbox and how does it work?",
      "What is CSS Grid and when would you use it?",
      "What are CSS preprocessors (Sass, Less)?",
      "What is the difference between CSS Grid and Flexbox?",
      "What are CSS custom properties (variables)?",
      "What is the CSS cascade and inheritance?",
      "What are CSS animations and transitions?",
      "What is the difference between transform and transition?",
      "What are CSS pseudo-elements?",
      "What is the BEM methodology in CSS?",
      "What is CSS-in-JS and its advantages?",
      "What are CSS modules?",
      "What is the difference between mobile-first and desktop-first design?",
      "What are CSS frameworks (Bootstrap, Tailwind)?",
      "What is the CSS containment property?",
    ],
    hard: [
      "How do you optimize CSS for performance?",
      "What is Critical CSS and how do you implement it?",
      "How do you handle CSS architecture in large applications?",
      "What are CSS Houdini APIs?",
      "How do you implement CSS-only animations?",
      "What is the CSS paint API?",
      "How do you handle CSS cross-browser compatibility?",
      "What are CSS logical properties?",
      "How do you implement CSS theming and dark mode?",
      "What is the CSS aspect-ratio property?",
      "How do you optimize CSS for mobile performance?",
      "What are CSS container queries?",
      "How do you implement CSS masonry layout?",
      "What is the CSS scroll-snap property?",
      "How do you handle CSS security issues?",
      "What are CSS subgrids?",
      "How do you implement CSS print styles?",
      "What is the CSS clamp() function?",
      "How do you optimize CSS bundle size?",
      "What are CSS feature queries (@supports)?",
    ]
  },

  // JavaScript Questions (50)
  javascript: {
    easy: [
      "What is JavaScript and what are its key features?",
      "What are the different data types in JavaScript?",
      "What is the difference between var, let, and const?",
      "What is hoisting in JavaScript?",
      "What are JavaScript functions and how do you declare them?",
      "What is the difference between == and === in JavaScript?",
      "What are JavaScript arrays and their methods?",
      "What are JavaScript objects and how do you create them?",
      "What is the 'this' keyword in JavaScript?",
      "What are JavaScript events and event handling?",
      "What is the difference between null and undefined?",
      "What are JavaScript loops (for, while, do-while)?",
      "What are conditional statements in JavaScript?",
      "What is JavaScript scope?",
      "What are JavaScript strings and their methods?",
    ],
    medium: [
      "What are closures in JavaScript?",
      "What is the JavaScript event loop?",
      "What are Promises in JavaScript?",
      "What is async/await in JavaScript?",
      "What are JavaScript prototypes and inheritance?",
      "What is the difference between call, apply, and bind?",
      "What are JavaScript modules (ES6 modules)?",
      "What is destructuring in JavaScript?",
      "What are template literals in JavaScript?",
      "What are arrow functions and their differences?",
      "What is the spread operator in JavaScript?",
      "What are JavaScript classes (ES6)?",
      "What is error handling in JavaScript (try/catch)?",
      "What are JavaScript generators?",
      "What is the fetch API in JavaScript?",
    ],
    hard: [
      "What are JavaScript design patterns?",
      "How does JavaScript memory management work?",
      "What are Web APIs and how do they work with JavaScript?",
      "What is the JavaScript execution context?",
      "How do you optimize JavaScript performance?",
      "What are JavaScript workers (Web Workers, Service Workers)?",
      "What is functional programming in JavaScript?",
      "How do you handle JavaScript security vulnerabilities?",
      "What are JavaScript proxies and reflection?",
      "What is the JavaScript module bundling process?",
      "How do you implement JavaScript testing strategies?",
      "What are JavaScript iterators and symbols?",
      "How do you handle JavaScript cross-browser compatibility?",
      "What is the JavaScript compilation process (JIT)?",
      "How do you implement JavaScript code splitting?",
      "What are JavaScript decorators?",
      "How do you handle JavaScript memory leaks?",
      "What is the JavaScript garbage collection process?",
      "How do you implement JavaScript internationalization?",
      "What are JavaScript SharedArrayBuffer and Atomics?",
    ]
  },

  // React Questions (50)
  react: {
    easy: [
      "What is React and what are its key features?",
      "What is JSX in React?",
      "What are React components?",
      "What is the difference between functional and class components?",
      "What are props in React?",
      "What is state in React?",
      "What is the difference between state and props?",
      "What are React events?",
      "What is the virtual DOM in React?",
      "What are React keys and why are they important?",
      "What is conditional rendering in React?",
      "What are React lists and how do you render them?",
      "What is the useState hook?",
      "What is the useEffect hook?",
      "What are React fragments?",
    ],
    medium: [
      "What is React component lifecycle?",
      "What are React hooks and their rules?",
      "What is the useContext hook?",
      "What is the useReducer hook?",
      "What are custom hooks in React?",
      "What is React state management?",
      "What are controlled vs uncontrolled components?",
      "What is React Router and how does it work?",
      "What are React forms and form handling?",
      "What is React error boundary?",
      "What are React refs and when to use them?",
      "What is React memo and when to use it?",
      "What are React portals?",
      "What is code splitting in React?",
      "What is lazy loading in React?",
    ],
    hard: [
      "How do you optimize React performance?",
      "What are React design patterns?",
      "How do you implement React server-side rendering (SSR)?",
      "What is React Fiber and how does it work?",
      "How do you handle React security best practices?",
      "What are React testing strategies and tools?",
      "How do you implement React state management with Redux?",
      "What is React Context API and its use cases?",
      "How do you handle React performance profiling?",
      "What are React concurrent features?",
      "How do you implement React micro-frontends?",
      "What is React Suspense and how does it work?",
      "How do you handle React accessibility (a11y)?",
      "What are React development tools and debugging?",
      "How do you implement React progressive web apps?",
      "What is React Native and its differences from React?",
      "How do you handle React bundle optimization?",
      "What are React higher-order components (HOCs)?",
      "How do you implement React internationalization?",
      "What are React experimental features and their usage?",
    ]
  }
};

export function getRandomFrontendQuestions(
  technologies: string[],
  experienceLevel: string,
  count: number,
  usedQuestions: string[] = []
): Array<{question: string, expectedTopics: string[], difficulty: 'easy' | 'medium' | 'hard'}> {
  // Define difficulty distribution based on experience level
  const difficultyDistribution = {
    'fresher': { easy: 0.8, medium: 0.15, hard: 0.05 },
    'entry-level': { easy: 0.8, medium: 0.15, hard: 0.05 },
    'junior': { easy: 0.5, medium: 0.4, hard: 0.1 },
    'mid': { easy: 0.2, medium: 0.6, hard: 0.2 },
    'senior': { easy: 0.1, medium: 0.4, hard: 0.5 },
    'lead': { easy: 0.05, medium: 0.25, hard: 0.7 }
  };
  
  const level = experienceLevel.toLowerCase();
  const distribution = difficultyDistribution[level as keyof typeof difficultyDistribution] || difficultyDistribution['mid'];
  
  // Calculate question counts for each difficulty
  const easyCount = Math.round(count * distribution.easy);
  const mediumCount = Math.round(count * distribution.medium);
  const hardCount = count - easyCount - mediumCount;
  
  const allQuestions: Array<{question: string, expectedTopics: string[], difficulty: 'easy' | 'medium' | 'hard'}> = [];
  
  // Helper function to get questions by difficulty
  const getQuestionsByDifficulty = (difficulty: 'easy' | 'medium' | 'hard', targetCount: number) => {
    const questions: Array<{question: string, expectedTopics: string[], difficulty: 'easy' | 'medium' | 'hard'}> = [];
    
    technologies.forEach(tech => {
      const techKey = tech.toLowerCase();
      let questionSet: string[] = [];
      let topics: string[] = [];
      
      if (techKey.includes('html')) {
        questionSet = FRONTEND_QUESTIONS.html[difficulty];
        topics = ['html', 'markup', 'web development'];
      } else if (techKey.includes('css')) {
        questionSet = FRONTEND_QUESTIONS.css[difficulty];
        topics = ['css', 'styling', 'design'];
      } else if (techKey.includes('javascript') || techKey.includes('js')) {
        questionSet = FRONTEND_QUESTIONS.javascript[difficulty];
        topics = ['javascript', 'programming', 'web development'];
      } else if (techKey.includes('react')) {
        questionSet = FRONTEND_QUESTIONS.react[difficulty];
        topics = ['react', 'frontend', 'components'];
      }
      
      questionSet.forEach(question => {
        if (!usedQuestions.includes(question)) {
          questions.push({
            question,
            expectedTopics: topics,
            difficulty
          });
        }
      });
    });
    
    // Shuffle and return requested count
    const shuffled = questions.sort(() => Math.random() - 0.5);
    return shuffled.slice(0, targetCount);
  };
  
  // Get questions for each difficulty level
  if (easyCount > 0) {
    allQuestions.push(...getQuestionsByDifficulty('easy', easyCount));
  }
  if (mediumCount > 0) {
    allQuestions.push(...getQuestionsByDifficulty('medium', mediumCount));
  }
  if (hardCount > 0) {
    allQuestions.push(...getQuestionsByDifficulty('hard', hardCount));
  }
  
  // Add extra randomization with timestamp-based seed
  const randomSeed = Date.now() + Math.random();
  const shuffleWithSeed = (array: any[], seed: number) => {
    const shuffled = [...array];
    for (let i = shuffled.length - 1; i > 0; i--) {
      const j = Math.floor((seed * (i + 1)) % (i + 1));
      [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
      seed = (seed * 9301 + 49297) % 233280;
    }
    return shuffled;
  };
  
  // Multiple shuffles for maximum randomness
  let finalQuestions = shuffleWithSeed(allQuestions, randomSeed);
  finalQuestions = finalQuestions.sort(() => Math.random() - 0.5);
  finalQuestions = shuffleWithSeed(finalQuestions, Date.now());
  
  return finalQuestions;
}